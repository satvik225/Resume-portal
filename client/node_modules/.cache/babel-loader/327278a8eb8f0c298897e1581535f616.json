{"ast":null,"code":"var _jsxFileName = \"/Users/satvik/Desktop/Resume-portal/client/src/components/DataDetails.js\",\n    _s = $RefreshSig$();\n\nimport { useDatasContext } from '../hooks/useDatasContext';\nimport { useAuthContext } from '../hooks/useAuthContext'; // date fns\n\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DataDetails = _ref => {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const {\n    dispatch\n  } = useDatasContext();\n  const {\n    user\n  } = useAuthContext();\n\n  const handleClick = async () => {\n    if (!user) {\n      return;\n    }\n\n    const response = await fetch('/api/data/' + data._id, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${user.token}`\n      }\n    });\n    const json = await response.json();\n\n    if (response.ok) {\n      dispatch({\n        type: 'DELETE_DATA',\n        payload: json\n      });\n    }\n  };\n\n  if (user.role !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: data.Rollno\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Batch-Year : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 10\n        }, this), data.BatchYear]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Branch : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 10\n        }, this), data.Branch]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: data.ResumeLink,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        children: \"Resume-Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formatDistanceToNow(new Date(data.createdAt), {\n          addSuffix: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"material-symbols-outlined\",\n        onClick: handleClick,\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }, this);\n  } else if (user.role === 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: data.Rollno\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Batch-Year : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 14\n        }, this), data.BatchYear]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Branch : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 14\n        }, this), data.Branch]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: data.ResumeLink,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        children: \"Resume-Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"material-symbols-outlined\",\n        onClick: handleClick,\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this);\n  }\n};\n\n_s(DataDetails, \"fBmRUEh2hi4ZZ8cedn6poDfV+So=\", false, function () {\n  return [useDatasContext, useAuthContext];\n});\n\n_c = DataDetails;\nexport default DataDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataDetails\");","map":{"version":3,"names":["useDatasContext","useAuthContext","formatDistanceToNow","DataDetails","data","dispatch","user","handleClick","response","fetch","_id","method","headers","token","json","ok","type","payload","role","Rollno","BatchYear","Branch","ResumeLink","Date","createdAt","addSuffix"],"sources":["/Users/satvik/Desktop/Resume-portal/client/src/components/DataDetails.js"],"sourcesContent":["import { useDatasContext } from '../hooks/useDatasContext'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n\n// date fns\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\nconst DataDetails = ({ data }) => {\n  const { dispatch } = useDatasContext()\n  const { user } = useAuthContext()\n\n  const handleClick = async () => {\n    if (!user) {\n      return\n    }\n\n    const response = await fetch('/api/data/' + data._id, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${user.token}`\n      }\n    })\n    const json = await response.json()\n\n    if (response.ok) {\n      dispatch({type: 'DELETE_DATA', payload: json})\n    }\n  }\n  if(user.role !== 'admin'){\n  return (\n    <div className=\"data-details\">\n      <h4>{data.Rollno}</h4>\n      <p><strong>Batch-Year : </strong>{data.BatchYear}</p>\n      <p><strong>Branch : </strong>{data.Branch}</p>\n      <a href={data.ResumeLink} target=\"_blank\" rel=\"noreferrer\">Resume-Link</a>\n      <p>{formatDistanceToNow(new Date(data.createdAt), { addSuffix: true })}</p>\n      <span className=\"material-symbols-outlined\" onClick={handleClick}>delete</span>\n      \n    </div>\n  )\n  }\n  else if(user.role === 'admin'){\n      return (\n        <div className=\"data-details\">\n          <h4>{data.Rollno}</h4>\n          <p><strong>Batch-Year : </strong>{data.BatchYear}</p>\n          <p><strong>Branch : </strong>{data.Branch}</p>\n          <a href={data.ResumeLink} target=\"_blank\" rel=\"noreferrer\">Resume-Link</a>\n          <span className=\"material-symbols-outlined\" onClick={handleClick}>delete</span>\n        </div>\n      )\n  }\n}\n\n\nexport default DataDetails"],"mappings":"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"},"metadata":{},"sourceType":"module"}