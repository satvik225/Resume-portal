{"ast":null,"code":"var _jsxFileName = \"/Users/satvik/Desktop/Resume-portal/client/src/components/Notifications_create.js\",\n    _s = $RefreshSig$();\n\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Notification = () => {\n  _s();\n\n  const {\n    user\n  } = useAuthContext();\n  const [title, settitle] = useState('');\n  const [description, setBatchYear] = useState('');\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (!user) {\n      setError('You must be logged in');\n      return;\n    }\n\n    const data = {\n      title,\n      description\n    };\n    const response = await fetch('/api/notifications/create', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${user.token}`\n      }\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setError(json.error);\n    } else {\n      settitle('');\n      setBatchYear('');\n      setError(null);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"addnoti\",\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"notifheading\",\n        children: \"Welcome admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"notifaddheading\",\n        children: \"Add a New Notification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputnoti\",\n          type: \"text\",\n          placeholder: \"Title\",\n          value: title,\n          required: true,\n          onChange: e => settitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          placeholder: \"description\",\n          required: true,\n          value: description,\n          onChange: e => setBatchYear(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Add Notification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Notification, \"L+PKw2XZ5I6hDPYDfjTP/cvjFJI=\", false, function () {\n  return [useAuthContext];\n});\n\n_c = Notification;\nexport default Notification;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notification\");","map":{"version":3,"names":["useAuthContext","useState","Notification","user","title","settitle","description","setBatchYear","error","setError","handleSubmit","e","preventDefault","data","response","fetch","method","body","JSON","stringify","headers","token","json","ok","target","value"],"sources":["/Users/satvik/Desktop/Resume-portal/client/src/components/Notifications_create.js"],"sourcesContent":["import { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useState } from \"react\";\n\nconst Notification = () => {\n    const { user } = useAuthContext()\n    const [title, settitle] = useState('')\n    const [description, setBatchYear] = useState('')\n    const [error, setError] = useState(null)\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n      \n        if (!user) {\n          setError('You must be logged in');\n          return;\n        }\n        const data = { title, description};\n\n        const response = await fetch('/api/notifications/create', {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${user.token}`\n            }\n          });\n        \n          const json = await response.json();\n        \n          if (!response.ok) {\n            setError(json.error);\n          } else {\n            settitle('');\n            setBatchYear('');\n            setError(null);\n          }\n        };  \nreturn ( \n        <div className=\"addnoti\">\n        <center><h2 className=\"notifheading\">Welcome admin</h2></center>\n        <center><h1 className=\"notifaddheading\">Add a New Notification</h1></center>\n        <form onSubmit={handleSubmit} >\n        <center><input className=\"inputnoti\" type=\"text\" placeholder=\"Title\" value={title} required onChange={(e) => settitle(e.target.value)}></input></center>\n            <center> <textarea type=\"text\" placeholder=\"description\" required value={description} onChange={(e) => setBatchYear(e.target.value)}></textarea></center>\n            <center><button>Add Notification</button></center>\n      {error && <div className=\"error\">{error}</div>}\n        </form>\n        </div>\n        \n     );\n}\n \nexport default Notification;\n"],"mappings":";;;AAAA,SAASA,cAAT,QAA+B,yBAA/B;AACA,SAASC,QAAT,QAAyB,OAAzB;;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EACvB,MAAM;IAAEC;EAAF,IAAWH,cAAc,EAA/B;EACA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACK,WAAD,EAAcC,YAAd,IAA8BN,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,IAAD,CAAlC;;EAGA,MAAMS,YAAY,GAAG,MAAOC,CAAP,IAAa;IAC9BA,CAAC,CAACC,cAAF;;IAEA,IAAI,CAACT,IAAL,EAAW;MACTM,QAAQ,CAAC,uBAAD,CAAR;MACA;IACD;;IACD,MAAMI,IAAI,GAAG;MAAET,KAAF;MAASE;IAAT,CAAb;IAEA,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAAC,2BAAD,EAA8B;MACtDC,MAAM,EAAE,MAD8C;MAEtDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFgD;MAGtDO,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,iBAAkB,UAASjB,IAAI,CAACkB,KAAM;MAF/B;IAH6C,CAA9B,CAA5B;IASE,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACQ,IAAT,EAAnB;;IAEA,IAAI,CAACR,QAAQ,CAACS,EAAd,EAAkB;MAChBd,QAAQ,CAACa,IAAI,CAACd,KAAN,CAAR;IACD,CAFD,MAEO;MACLH,QAAQ,CAAC,EAAD,CAAR;MACAE,YAAY,CAAC,EAAD,CAAZ;MACAE,QAAQ,CAAC,IAAD,CAAR;IACD;EACF,CA3BL;;EA4BJ,oBACQ;IAAK,SAAS,EAAC,SAAf;IAAA,wBACA;MAAA,uBAAQ;QAAI,SAAS,EAAC,cAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAR;MAAA;MAAA;MAAA;IAAA,QADA,eAEA;MAAA,uBAAQ;QAAI,SAAS,EAAC,iBAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAR;MAAA;MAAA;MAAA;IAAA,QAFA,eAGA;MAAM,QAAQ,EAAEC,YAAhB;MAAA,wBACA;QAAA,uBAAQ;UAAO,SAAS,EAAC,WAAjB;UAA6B,IAAI,EAAC,MAAlC;UAAyC,WAAW,EAAC,OAArD;UAA6D,KAAK,EAAEN,KAApE;UAA2E,QAAQ,MAAnF;UAAoF,QAAQ,EAAGO,CAAD,IAAON,QAAQ,CAACM,CAAC,CAACa,MAAF,CAASC,KAAV;QAA7G;UAAA;UAAA;UAAA;QAAA;MAAR;QAAA;QAAA;QAAA;MAAA,QADA,eAEI;QAAA,6BAAS;UAAU,IAAI,EAAC,MAAf;UAAsB,WAAW,EAAC,aAAlC;UAAgD,QAAQ,MAAxD;UAAyD,KAAK,EAAEnB,WAAhE;UAA6E,QAAQ,EAAGK,CAAD,IAAOJ,YAAY,CAACI,CAAC,CAACa,MAAF,CAASC,KAAV;QAA1G;UAAA;UAAA;UAAA;QAAA,QAAT;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAA,uBAAQ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAR;QAAA;QAAA;QAAA;MAAA,QAHJ,EAIDjB,KAAK,iBAAI;QAAK,SAAS,EAAC,OAAf;QAAA,UAAwBA;MAAxB;QAAA;QAAA;QAAA;MAAA,QAJR;IAAA;MAAA;MAAA;MAAA;IAAA,QAHA;EAAA;IAAA;IAAA;IAAA;EAAA,QADR;AAaC,CAhDD;;GAAMN,Y;UACeF,c;;;KADfE,Y;AAkDN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}