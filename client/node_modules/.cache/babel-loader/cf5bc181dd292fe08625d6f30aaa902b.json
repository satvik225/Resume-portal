{"ast":null,"code":"var _jsxFileName = \"/Users/satvik/Desktop/resume_portal/client/src/components/Notifications_list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyComponent() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const {\n    user\n  } = useAuthContext();\n  useEffect(() => {\n    const fetchData = () => {\n      fetch('/api/notifications', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${user.token}`\n        }\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        return response.json();\n      }).then(data => {\n        // Set the fetched data to state\n        setData(data);\n      }).catch(error => {\n        // Handle any errors\n        console.error('Error:', error);\n      });\n    };\n\n    if (user) {\n      fetchData();\n    }\n  }, [user, data]);\n\n  const Deletefunction = id => {\n    console.log(id);\n    fetch('/api/notifications/' + id, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${user.token}`\n      }\n    }).then(() => {\n      console.log('deleted');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  if (user.role === 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifilist\",\n      children: [/*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"notifheading\",\n          children: \"Uploaded Notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: data.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uploadednoti\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"\\uD83D\\uDD35 \", item.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Published on \", item.createdAt.slice(0, 10), \", \", item.createdAt.slice(11, 19)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"  (\", formatDistanceToNow(new Date(item.createdAt), {\n              addSuffix: true\n            }), \" )\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 114\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => Deletefunction(item._id),\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"notifheading\",\n          children: \"Notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: data.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"uploadednoti\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: [\"\\uD83D\\uDD35 \", item.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Published on \", item.createdAt.slice(0, 10), \", \", item.createdAt.slice(11, 19)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"  (\", formatDistanceToNow(new Date(item.createdAt), {\n                addSuffix: true\n              }), \" )\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 114\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this);\n  }\n}\n\n_s(MyComponent, \"y0DURejykZ+M47FkiAm78jVNg0Y=\", false, function () {\n  return [useAuthContext];\n});\n\n_c = MyComponent;\nexport default MyComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyComponent\");","map":{"version":3,"names":["React","useState","useEffect","useAuthContext","formatDistanceToNow","MyComponent","data","setData","user","fetchData","fetch","method","headers","token","then","response","ok","Error","json","catch","error","console","Deletefunction","id","log","err","role","map","item","title","description","createdAt","slice","Date","addSuffix","_id"],"sources":["/Users/satvik/Desktop/resume_portal/client/src/components/Notifications_list.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\n\nfunction MyComponent() {\n  const [data, setData] = useState([]);\n  const {user} = useAuthContext()\n\n\n  useEffect(() => {\n  const fetchData = () => {\n    fetch('/api/notifications', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${user.token}`\n    }\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then(data => {\n        // Set the fetched data to state\n        setData(data);\n      })\n      .catch(error => {\n        // Handle any errors\n        console.error('Error:', error);\n      });\n\n  };\n  if (user) {\n    fetchData()\n    }\n  }, [user,data]);\n  const Deletefunction=((id) => {\n    console.log(id)\n    fetch('/api/notifications/'+id,{\n        method:'DELETE',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${user.token}`\n        }\n    })\n    .then(()=>{\n        console.log('deleted')\n        })\n        .catch(err => {\n          console.log(err)\n        })\n      })\n  \nif(user.role === 'admin'){\n  return (\n    <div className='notifilist'>\n     <center><h2 className=\"notifheading\">Uploaded Notifications</h2></center> \n      <ul>\n        {data.map(item => (\n            <div className='uploadednoti'>\n                                          <h6>ðŸ”µ {item.title}</h6>\n                            <p>{item.description}</p>\n                            <span>Published on {item.createdAt.slice(0,10)}, {item.createdAt.slice(11,19)}</span><span>  ({formatDistanceToNow(new Date(item.createdAt), { addSuffix: true })} )</span>\n              <p><button onClick={()=>Deletefunction(item._id)} >delete</button></p>\n          </div>\n        ))}\n      </ul>\n    </div>\n  );\n        }\n        else{\n            return (\n                <div>\n                <center><h2 className='notifheading'>Notifications</h2></center>\n                <div>\n                  <ul>\n                    {data.map(item => (\n                        <div className='uploadednoti'>\n                            <h6>ðŸ”µ {item.title}</h6>\n                            <p>{item.description}</p>\n                            <span>Published on {item.createdAt.slice(0,10)}, {item.createdAt.slice(11,19)}</span><span>  ({formatDistanceToNow(new Date(item.createdAt), { addSuffix: true })} )</span>\n                      </div>\n                    ))}\n                  </ul>\n                  </div>\n                </div>\n              );\n\n        }\n}\n\nexport default MyComponent;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}